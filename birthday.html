<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <img src="Trial-Court-Seal-MPS-Final-bw.png" alt="Massachusetts Trial Court Seal" style="width: 100px; height: auto; margin-bottom: 20px; class="court-seal">
  <title>Confirm Birthday</title>
  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
      margin-top: 50px;
    }

    select, input[type="submit"] {
      margin: 5px;
      padding: 5px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>Confirm your birthday</h1>
  <form onsubmit="return checkBirthday()">
    <label>Birthday:</label><br>
    
    <!-- Month Dropdown -->
    <select id="month" required>
      <option value="">Month</option>
      <script>
        const months = ["01","02","03","04","05","06","07","08","09","10","11","12"];
        months.forEach(m => {
          document.write(`<option value="${m}">${m}</option>`);
        });
      </script>
    </select>

    <!-- Day Dropdown -->
    <select id="day" required>
      <option value="">Day</option>
      <script>
        for (let i = 1; i <= 31; i++) {
          const val = i < 10 ? '0' + i : i;
          document.write(`<option value="${val}">${val}</option>`);
        }
      </script>
    </select>

    <!-- Year Dropdown (1920 to 2020) -->
    <select id="year" required>
      <option value="">Year</option>
      <script>
        for (let y = 2020; y >= 1920; y--) {
          const selected = y === 1990 ? ' selected' : '';
          document.write(`<option value="${y}"${selected}>${y}</option>`);
        }
      </script>
    </select><br>

    <input type="submit" value="Submit">
  </form>

  <script>
    function checkBirthday() {
      const month = document.getElementById("month").value;
      const day = document.getElementById("day").value;
      const year = document.getElementById("year").value;
      const bday = `${month}/${day}/${year}`;
      const name = localStorage.getItem("userFullName");

      const validUsers = {
        "john doe": "10/10/1980",
        "jane smith": "07/11/1990"
      };

      if (validUsers[name] === bday) {
        localStorage.setItem("confirmedUser", name);
        window.location.href = "destination.html";
      } else {
        alert("Birthday does not match our records.");
      }
      return false;
    }
  </script>
</body>
</html>
